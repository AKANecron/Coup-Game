# SYST17796 Final Project - Coup
Offline text-based virtual simulation of the card game Coup.

## Background
In the not too distant future, the government is run for profit by a new "royal class" of multinational CEOs.

Their greed and absolute control of the economy has reduced all but a privileged few to lives of poverty and desperation.

Out of the oppressed masses rose The Resistance, an underground organization focused on overthrowing these powerful rulers. 

The valiant efforts of The Resistance have created discord, intrigue, and weakness in the political courts of the nouveau royal, bringing the government to brink of collapse.

But for you, a powerful government official, this is your opportunity to manipulate, bribe and bluff your way into absolute power.

To be successful, you must destroy the influence of your rivals and drive them into exile.

In these turbulent times there is only room for one to survive.

## Setup
The deck is shuffled and each player is given two randomly chosen cards and two coins. Players can review their own cards on their turn, but must not reveal their cards to any other participating player

At the beginning of each turn, a summary table outlining the different effects and counteractions will be displayed to the player. It is, however, best practice to familiarize oneself with the actions and counteractions before beginning the game.

The person who won the last game starts. On the first round, a random player will be chosen to start.

## Objective
The primary object of the game is to reduce all other players' influence to 0.

Each active card in a player's hand represents one point of influence. Therefore, all players start with influence of 2.

When a player loses influence, they must choose a card to reveal. That card's effect is no longer active for the player.

Once a player's influence falls to 0, they are immediately removed from the round.

## Order of play
The game is played in turns. Each turn a player chooses one effect only. A player may not pass.

After the effect is chosen other players have an opportunity to challenge or counteract that effect.

If an effect is not challenged or counteracted, the effect automatically succeeds. Challenges are resolved first before any effect or counteraction is resolved.

When a player has lost all their influence and both their cards are revealed, they are immediately out of the game. Their cards are discarded and their coins are lost.

The round ends when there is only one player left.

## Effects
A player may choose any action they want and can afford. Some effects (Character Effects) require influencing characters.

If they choose a Character Effect a player must claim that the required character is one of their face down cards. They can be telling the truth or bluffing. 

The player does not need to reveal any of their face down cards unless they are challenged. If they are not challenged they automatically succeed.

If a player starts their turn with 10 or more coins they must launch a Coup that turn as their only action.

### General Effect
General effects can be performed by any player without challenge. These actions are not associated with any particular character.

1. Income: The player collects 1 coin.
2. Foreign aid: The player collects 2 coins (Note: This can be blocked by the Duke).
3. Coup: The player pays 7 coins to reduce another player's influence by 1.

### Character Effects
Characters in the game have specific effects that they can perform. While any player can declare any effect on their turn, declaring a character action allows any other player to attempt a challenge against that declaration.

#### 1. Duke - Tax
Collect 3 coins.

#### 2. Assassin - Assassinate
Pay 3 coins to reduce another player's influence by 1.

#### 3. Captain - Steal
Take 2 coins from another player.

#### 4. Ambassador - Exchange
Draw 2 card from the deck and exchange any number (or none) of the cards in your hand for the same number of cards drawn from the deck. Then return two cards to the deck and shuffle the deck.

#### 5. Contessa - N/A
The Contessa does not have a character effect.

### Counteractions
Similar to character effects, characters have designated counteractions which can be used to block certain declared effects. Just like character effects, declaring a counteraction allows any other player to attempt a challenge against the counteraction declaration.

#### 1. Duke - Blocks Foreign Aid
The player attempting foreign aid will receive no coins this turn.

#### 2. Assassin - N/A
The Assassin does not have a counteraction

#### 3. Captain - Blocks steal
The player attempting to steal receives no coins this turn. The blocking player loses no coins this turn.

#### 4. Ambassador - Blocks steal
The player attempting to steal receives no coins this turn. The blocking player loses no coins this turn.

#### 5. Contessa - Blocks assassinate
The player being assassinated loses no influence this turn. The player performing the assassination loses the coins spent for the action.

## Challenges
Any effect or counteraction using character influence can be challenged.

Any other player can issue a challenge to a player regardless of whether they are involved in the effect.

Once an effect or counteraction is declared other players must be given an opportunity to challenge. Once play continues challenges cannot be retroactively issued.

If a player is challenged they must prove they had the required influence by showing the relevant character is one of their face-down cards. If they can't, or do not wish to, prove it, they lose the challenge. If they can, the challenger loses.

Whoever loses the challenge immediately loses an influence.

If a player wins a challenge by showing the relevant character card, they first return that card to the deck, shuffle the deck and take a random replacement card (that way they have not lost influence and other players do not know the new influence card they have). Then the effect or counteraction is resolved.

If an effect is successfully challenged, the entire effect fails, and any coins paid as the cost of the effect are returned to the player.

## Final Notes
### Double Dangers of Assassination
It is possible to lose 2 influence in one turn if you unsuccessfully defend against an assassination.

For example, if you challenge an assassin used against you and lose the challenge, you will lose 1 influence for the lost challenge and then 1 influence for the successful assassination.

Or if you bluff about having the Contessa to block an assassination attempt and are challenged, you will lose 1 influence for the lost challenge and then lose 1 influence for the successful assassination.

### Trust No One
Any negotiations are allowed, but none are ever binding. Players are not allowed to reveal any of their cards to other players.

No coins can be given or lent to other players.

There is no second place.

Have fun.

#### Acknowledgement
The rules as given here are adapted from https://www.ultraboardgames.com/coup/game-rules.php

## Known Issues:
When a player is challenged after blocking a steal attempt, they may have BOTH an Ambassador and a Captain in their hand. Since the challenge will be unsuccessful, the blocking player will have to swap one of the cards in their hand. Presently, the game has no way of allowing the player to choose which of these two cards will be swapped and will instead automatically choose the first card in the player's hand.
